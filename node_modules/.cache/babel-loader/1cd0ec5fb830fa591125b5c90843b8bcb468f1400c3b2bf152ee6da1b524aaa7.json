{"ast":null,"code":"// let dialogs = [\n//     { id: 1, name: \"Sveta\" }, // dialog\n//     { id: 2, name: \"Pasha\" }, // dialog\n//     { id: 3, name: \"Olya\" }, // dialog\n//     { id: 4, name: \"Serge\" }, // dialog\n//     { id: 5, name: \"Kolya\" }, // dialog\n//   ];\n\n//   let messages = [\n//     { id: 1, message: \"Hi!\" }, // message\n//     { id: 2, message: \"How are you?\" }, // message\n//     { id: 3, message: \"How is your course?\" }, // message\n//     { id: 4, message: \"Yo\" }, // message\n//     { id: 5, message: \"Yo\" }, // message\n//   ];\n\n//   let posts = [\n//     {id: 1, message: 'Hello! How are you?', likesCount: 7},\n//     {id: 2, message: 'It\\'s time to go snowboarding! Who goes with me?', likesCount: 9},\n//     {id: 3, message: 'Aloha! I\\'m on Havai!', likesCount: 7},\n//   ];\n\n//   let state = {\n//     profilePage: {\n//       posts: [\n//         {id: 1, message: 'Hello! How are you?', likesCount: 7},\n//         {id: 2, message: 'It\\'s time to go snowboarding! Who goes with me?', likesCount: 9},\n//         {id: 3, message: 'Aloha! I\\'m on Havai!', likesCount: 7},\n//       ],\n//     },\n//     dialogsPage: {\n//       dialogs: [\n//         { id: 1, name: \"Sveta\" }, // dialog\n//         { id: 2, name: \"Pasha\" }, // dialog\n//         { id: 3, name: \"Olya\" }, // dialog\n//         { id: 4, name: \"Serge\" }, // dialog\n//         { id: 5, name: \"Kolya\" }, // dialog\n//       ],\n//       messages: [\n//           { id: 1, message: \"Hi!\" }, // message\n//           { id: 2, message: \"How are you?\" }, // message\n//           { id: 3, message: \"How is your course?\" }, // message\n//           { id: 4, message: \"Yo\" }, // message\n//           { id: 5, message: \"Yo\" }, // message\n//         ],\n//     }\n//   }\n\nconst ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst UPDATE_NEW_MESSAGE_BODY = \"UPDATE_NEW_MESSAGE_BODY\";\nconst SEND_MESSAGE = 'SEND_MESSAGE';\nlet store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        id: 1,\n        message: 'Hello! How are you?',\n        likesCount: 7\n      }, {\n        id: 2,\n        message: 'It\\'s time to go snowboarding! Who goes with me?',\n        likesCount: 9\n      }, {\n        id: 3,\n        message: 'Aloha! I\\'m on Havai!',\n        likesCount: 7\n      }]\n    },\n    dialogsPage: {\n      dialogs: [{\n        id: 1,\n        name: \"Sveta\"\n      },\n      // dialog\n      {\n        id: 2,\n        name: \"Pasha\"\n      },\n      // dialog\n      {\n        id: 3,\n        name: \"Olya\"\n      },\n      // dialog\n      {\n        id: 4,\n        name: \"Serge\"\n      },\n      // dialog\n      {\n        id: 5,\n        name: \"Kolya\"\n      } // dialog\n      ],\n\n      messages: [{\n        id: 1,\n        message: \"Hi!\"\n      },\n      // message\n      {\n        id: 2,\n        message: \"How are you?\"\n      },\n      // message\n      {\n        id: 3,\n        message: \"How is your course?\"\n      },\n      // message\n      {\n        id: 4,\n        message: \"Yo\"\n      },\n      // message\n      {\n        id: 5,\n        message: \"Yo\"\n      } // message\n      ],\n\n      newMessagesBody: \"\"\n    },\n    sidebar: {}\n  },\n  _callSubscriber() {\n    console.log('State changed');\n  },\n  getSatate() {\n    debugger;\n    return this._state;\n  },\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n  dispatch(action) {\n    //{ type: 'ADD-POST' }\n    if (action.type === ADD_POST) {\n      let newPost = {\n        id: 5,\n        message: this._state.profilePage.newPostText,\n        likesCount: 0\n      };\n      this._state.profilePage.posts.push(newPost);\n      this._state.profilePage.newPostText = '';\n      this._callSubscriber(this._state);\n    } else if (action.type === UPDATE_NEW_POST_TEXT) {\n      this._state.profilePage.newPostText = action.newText;\n      this._callSubscriber(this._state);\n    } else if (action.type === UPDATE_NEW_MESSAGE_BODY) {\n      this._state.dialogsPage.newMessagesBody = action.body;\n      this._callSubscriber(this._state);\n    } else if (action.type === SEND_MESSAGE) {\n      let body = this._state.dialogsPage.newMessagesBody;\n      this._state.dialogsPage.newMessagesBody = '';\n      this._state.dialogsPage.messages.push({\n        id: 6,\n        message: body\n      });\n      this._callSubscriber(this._state);\n    }\n  }\n};\nexport const addPostActionCreator = () => ({\n  type: ADD_POST\n});\nexport const updateNewPostTextActionCreator = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  newText: text\n});\nexport const sendMassageCreator = () => ({\n  type: SEND_MESSAGE\n});\nexport const updateNewMessageBodyCreator = body => ({\n  type: UPDATE_NEW_MESSAGE_BODY,\n  body: body\n});\nexport default store;\nwindow.store = store;","map":{"version":3,"names":["ADD_POST","UPDATE_NEW_POST_TEXT","UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","store","_state","profilePage","posts","id","message","likesCount","dialogsPage","dialogs","name","messages","newMessagesBody","sidebar","_callSubscriber","console","log","getSatate","subscribe","observer","dispatch","action","type","newPost","newPostText","push","newText","body","addPostActionCreator","updateNewPostTextActionCreator","text","sendMassageCreator","updateNewMessageBodyCreator","window"],"sources":["C:/Users/szhivtsova/education/projects/01-first-project/social-network-react/src/redux/state.js"],"sourcesContent":["// let dialogs = [\r\n//     { id: 1, name: \"Sveta\" }, // dialog\r\n//     { id: 2, name: \"Pasha\" }, // dialog\r\n//     { id: 3, name: \"Olya\" }, // dialog\r\n//     { id: 4, name: \"Serge\" }, // dialog\r\n//     { id: 5, name: \"Kolya\" }, // dialog\r\n//   ];\r\n  \r\n//   let messages = [\r\n//     { id: 1, message: \"Hi!\" }, // message\r\n//     { id: 2, message: \"How are you?\" }, // message\r\n//     { id: 3, message: \"How is your course?\" }, // message\r\n//     { id: 4, message: \"Yo\" }, // message\r\n//     { id: 5, message: \"Yo\" }, // message\r\n//   ];\r\n  \r\n//   let posts = [\r\n//     {id: 1, message: 'Hello! How are you?', likesCount: 7},\r\n//     {id: 2, message: 'It\\'s time to go snowboarding! Who goes with me?', likesCount: 9},\r\n//     {id: 3, message: 'Aloha! I\\'m on Havai!', likesCount: 7},\r\n//   ];\r\n  \r\n//   let state = {\r\n//     profilePage: {\r\n//       posts: [\r\n//         {id: 1, message: 'Hello! How are you?', likesCount: 7},\r\n//         {id: 2, message: 'It\\'s time to go snowboarding! Who goes with me?', likesCount: 9},\r\n//         {id: 3, message: 'Aloha! I\\'m on Havai!', likesCount: 7},\r\n//       ],\r\n//     },\r\n//     dialogsPage: {\r\n//       dialogs: [\r\n//         { id: 1, name: \"Sveta\" }, // dialog\r\n//         { id: 2, name: \"Pasha\" }, // dialog\r\n//         { id: 3, name: \"Olya\" }, // dialog\r\n//         { id: 4, name: \"Serge\" }, // dialog\r\n//         { id: 5, name: \"Kolya\" }, // dialog\r\n//       ],\r\n//       messages: [\r\n//           { id: 1, message: \"Hi!\" }, // message\r\n//           { id: 2, message: \"How are you?\" }, // message\r\n//           { id: 3, message: \"How is your course?\" }, // message\r\n//           { id: 4, message: \"Yo\" }, // message\r\n//           { id: 5, message: \"Yo\" }, // message\r\n//         ],\r\n//     }\r\n//   }\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst UPDATE_NEW_MESSAGE_BODY = \"UPDATE_NEW_MESSAGE_BODY\";\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet store = {\r\n  _state: {\r\n    profilePage: {\r\n      posts: [\r\n        { id: 1, message: 'Hello! How are you?', likesCount: 7 },\r\n        { id: 2, message: 'It\\'s time to go snowboarding! Who goes with me?', likesCount: 9 },\r\n        { id: 3, message: 'Aloha! I\\'m on Havai!', likesCount: 7 },\r\n      ],\r\n    },\r\n    dialogsPage: {\r\n      dialogs: [\r\n        { id: 1, name: \"Sveta\" }, // dialog\r\n        { id: 2, name: \"Pasha\" }, // dialog\r\n        { id: 3, name: \"Olya\" }, // dialog\r\n        { id: 4, name: \"Serge\" }, // dialog\r\n        { id: 5, name: \"Kolya\" }, // dialog\r\n      ],\r\n      messages: [\r\n        { id: 1, message: \"Hi!\" }, // message\r\n        { id: 2, message: \"How are you?\" }, // message\r\n        { id: 3, message: \"How is your course?\" }, // message\r\n        { id: 4, message: \"Yo\" }, // message\r\n        { id: 5, message: \"Yo\" }, // message\r\n      ],\r\n      newMessagesBody: \"\"\r\n    },\r\n    sidebar: {}\r\n  },\r\n\r\n  _callSubscriber() {\r\n    console.log('State changed');\r\n  },\r\n\r\n  getSatate() {\r\n    debugger\r\n    return this._state; \r\n  },\r\n\r\n  subscribe(observer) {\r\n    this._callSubscriber = observer;\r\n  },\r\n\r\n  dispatch(action) { //{ type: 'ADD-POST' }\r\n    if (action.type === ADD_POST) {\r\n      let newPost = {\r\n        id: 5,\r\n        message: this._state.profilePage.newPostText,\r\n        likesCount: 0\r\n      };\r\n      this._state.profilePage.posts.push(newPost);\r\n      this._state.profilePage.newPostText = '';\r\n      this._callSubscriber(this._state);\r\n    } else if (action.type === UPDATE_NEW_POST_TEXT) {\r\n      this._state.profilePage.newPostText = action.newText;\r\n      this._callSubscriber(this._state);\r\n    } else if (action.type === UPDATE_NEW_MESSAGE_BODY) {\r\n      this._state.dialogsPage.newMessagesBody = action.body;\r\n      this._callSubscriber(this._state);\r\n    } else if (action.type === SEND_MESSAGE) {\r\n    let body = this._state.dialogsPage.newMessagesBody;\r\n    this._state.dialogsPage.newMessagesBody = '';\r\n    this._state.dialogsPage.messages.push({id: 6, message: body});\r\n    this._callSubscriber(this._state);\r\n  }\r\n  } \r\n}\r\n\r\nexport const addPostActionCreator = () => ({type: ADD_POST})\r\nexport const updateNewPostTextActionCreator = (text) => (\r\n  { type: UPDATE_NEW_POST_TEXT, newText: text }\r\n)\r\n\r\nexport const sendMassageCreator = () => ({type: SEND_MESSAGE})\r\nexport const updateNewMessageBodyCreator = (body) => (\r\n  { type: UPDATE_NEW_MESSAGE_BODY, body: body }\r\n)\r\n\r\nexport default store;\r\nwindow.store = store;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}