{"ast":null,"code":"// Константы для CREATORS\n// const ADD_POST = 'ADD-POST';\n// const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\n// const UPDATE_NEW_MESSAGE_BODY = \"UPDATE_NEW_MESSAGE_BODY\";\n// const SEND_MESSAGE = 'SEND_MESSAGE';\n\nimport profileReducer from \"./profile-reducer\";\nlet store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        id: 1,\n        message: 'Hello! How are you?',\n        likesCount: 7\n      }, {\n        id: 2,\n        message: 'It\\'s time to go snowboarding! Who goes with me?',\n        likesCount: 9\n      }, {\n        id: 3,\n        message: 'Aloha! I\\'m on Havai!',\n        likesCount: 7\n      }]\n    },\n    dialogsPage: {\n      dialogs: [{\n        id: 1,\n        name: \"Sveta\"\n      },\n      // dialog\n      {\n        id: 2,\n        name: \"Pasha\"\n      },\n      // dialog\n      {\n        id: 3,\n        name: \"Olya\"\n      },\n      // dialog\n      {\n        id: 4,\n        name: \"Serge\"\n      },\n      // dialog\n      {\n        id: 5,\n        name: \"Kolya\"\n      } // dialog\n      ],\n\n      messages: [{\n        id: 1,\n        message: \"Hi!\"\n      },\n      // message\n      {\n        id: 2,\n        message: \"How are you?\"\n      },\n      // message\n      {\n        id: 3,\n        message: \"How is your course?\"\n      },\n      // message\n      {\n        id: 4,\n        message: \"Yo\"\n      },\n      // message\n      {\n        id: 5,\n        message: \"Yo\"\n      } // message\n      ],\n\n      newMessagesBody: \"\"\n    },\n    sidebar: {}\n  },\n  _callSubscriber() {\n    console.log('State changed');\n  },\n  getState() {\n    return this._state;\n  },\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n  dispatch(action) {\n    this._state.profilePage = profileReducer(this._state.profilePage, action);\n    this._state.dialogsPage = profileReducer(this._state.dialogsPage, action);\n    this._state.sidebar = profileReducer(this._state.sidebar, action);\n    if (action.type === ADD_POST) {\n      let newPost = {\n        id: 5,\n        message: this._state.profilePage.newPostText,\n        likesCount: 0\n      };\n      this._state.profilePage.posts.push(newPost);\n      this._state.profilePage.newPostText = '';\n      this._callSubscriber(this._state);\n    } else if (action.type === UPDATE_NEW_POST_TEXT) {\n      this._state.profilePage.newPostText = action.newText;\n      this._callSubscriber(this._state);\n    } else if (action.type === UPDATE_NEW_MESSAGE_BODY) {\n      this._state.dialogsPage.newMessagesBody = action.body;\n      this._callSubscriber(this._state);\n    } else if (action.type === SEND_MESSAGE) {\n      let body = this._state.dialogsPage.newMessagesBody;\n      this._state.dialogsPage.newMessagesBody = '';\n      this._state.dialogsPage.messages.push({\n        id: 6,\n        message: body\n      });\n      this._callSubscriber(this._state);\n    }\n  }\n};\n\n// CREATORS\n\nexport const addPostActionCreator = () => ({\n  type: ADD_POST\n});\nexport const updateNewPostTextActionCreator = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  newText: text\n});\nexport const sendMessageCreator = () => ({\n  type: SEND_MESSAGE\n});\nexport const updateNewMessageBodyCreator = body => ({\n  type: UPDATE_NEW_MESSAGE_BODY,\n  body: body\n});\nexport default store;\nwindow.store = store;","map":{"version":3,"names":["profileReducer","store","_state","profilePage","posts","id","message","likesCount","dialogsPage","dialogs","name","messages","newMessagesBody","sidebar","_callSubscriber","console","log","getState","subscribe","observer","dispatch","action","type","ADD_POST","newPost","newPostText","push","UPDATE_NEW_POST_TEXT","newText","UPDATE_NEW_MESSAGE_BODY","body","SEND_MESSAGE","addPostActionCreator","updateNewPostTextActionCreator","text","sendMessageCreator","updateNewMessageBodyCreator","window"],"sources":["C:/Users/szhivtsova/education/projects/01-first-project/social-network-react/src/redux/state.js"],"sourcesContent":["// Константы для CREATORS\r\n// const ADD_POST = 'ADD-POST';\r\n// const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\n// const UPDATE_NEW_MESSAGE_BODY = \"UPDATE_NEW_MESSAGE_BODY\";\r\n// const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nimport profileReducer from \"./profile-reducer\";\r\n\r\nlet store = {\r\n  _state: {\r\n    profilePage: {\r\n      posts: [\r\n        { id: 1, message: 'Hello! How are you?', likesCount: 7 },\r\n        { id: 2, message: 'It\\'s time to go snowboarding! Who goes with me?', likesCount: 9 },\r\n        { id: 3, message: 'Aloha! I\\'m on Havai!', likesCount: 7 },\r\n      ],\r\n    },\r\n    dialogsPage: {\r\n      dialogs: [\r\n        { id: 1, name: \"Sveta\" }, // dialog\r\n        { id: 2, name: \"Pasha\" }, // dialog\r\n        { id: 3, name: \"Olya\" }, // dialog\r\n        { id: 4, name: \"Serge\" }, // dialog\r\n        { id: 5, name: \"Kolya\" }, // dialog\r\n      ],\r\n      messages: [\r\n        { id: 1, message: \"Hi!\" }, // message\r\n        { id: 2, message: \"How are you?\" }, // message\r\n        { id: 3, message: \"How is your course?\" }, // message\r\n        { id: 4, message: \"Yo\" }, // message\r\n        { id: 5, message: \"Yo\" }, // message\r\n      ],\r\n      newMessagesBody: \"\"\r\n    },\r\n    sidebar: {}\r\n  },\r\n\r\n  _callSubscriber() {\r\n    console.log('State changed');\r\n  },\r\n\r\n  getState() {\r\n    return this._state;\r\n  },\r\n\r\n  subscribe(observer) {\r\n    this._callSubscriber = observer;\r\n  },\r\n\r\n  dispatch(action) {\r\n\r\n    this._state.profilePage = profileReducer(this._state.profilePage, action);\r\n    this._state.dialogsPage = profileReducer(this._state.dialogsPage, action);\r\n    this._state.sidebar = profileReducer(this._state.sidebar, action);\r\n\r\n\r\n\r\n    if (action.type === ADD_POST) {\r\n      let newPost = {\r\n        id: 5,\r\n        message: this._state.profilePage.newPostText,\r\n        likesCount: 0\r\n      };\r\n      this._state.profilePage.posts.push(newPost);\r\n      this._state.profilePage.newPostText = '';\r\n      this._callSubscriber(this._state);\r\n\r\n    } else if (action.type === UPDATE_NEW_POST_TEXT) {\r\n      this._state.profilePage.newPostText = action.newText;\r\n      this._callSubscriber(this._state);\r\n\r\n    } else if (action.type === UPDATE_NEW_MESSAGE_BODY) {\r\n      this._state.dialogsPage.newMessagesBody = action.body;\r\n      this._callSubscriber(this._state);\r\n\r\n    } else if (action.type === SEND_MESSAGE) {\r\n      let body = this._state.dialogsPage.newMessagesBody;\r\n      this._state.dialogsPage.newMessagesBody = '';\r\n      this._state.dialogsPage.messages.push({ id: 6, message: body });\r\n      this._callSubscriber(this._state);\r\n    }\r\n  }\r\n}\r\n\r\n// CREATORS\r\n\r\nexport const addPostActionCreator = () => ({ type: ADD_POST })\r\nexport const updateNewPostTextActionCreator = (text) => (\r\n  { type: UPDATE_NEW_POST_TEXT, newText: text }\r\n)\r\n\r\nexport const sendMessageCreator = () => ({ type: SEND_MESSAGE })\r\n\r\nexport const updateNewMessageBodyCreator = (body) => (\r\n  { type: UPDATE_NEW_MESSAGE_BODY, body: body }\r\n)\r\n\r\nexport default store;\r\nwindow.store = store;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}